(function(e){e.fn.mask=function(t){function s(t){var n=t.attr("id")+"_unmasked";var r=document.createElement("input");r.setAttribute("id",n);r.setAttribute("type","text");r.setAttribute("style","display:none;");r.value=t.val();t.after(r);return e(r)}var n=this;var r={toggle:".toggle"};if(t){e.extend(r,t)}var i=e(r.toggle);i.change(function(){var t=e(this).is(":checked");i.each(function(){e(this).attr("checked",t)});n.each(function(){t?this.reveal():this.mask()})});return this.each(function(){var t=e(this);t.attr("autocomplete","off");var n=s(t);this.reveal=function(){n.show();t.hide()};this.mask=function(){n.hide();t.show()};t.change(function(){n.val(t.val());return false});n.change(function(){t.val(n.val());return false});this.mask()})}})(jQuery)
